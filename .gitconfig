[user]
name = Amory Meltzer
email = Amorymeltzer@gmail.com

[core]
editor = emacs
# Use custom `.gitignore`
excludesfile = ~/.global-gitignore
# Treat spaces before tabs, lines that are indented with 8 or more spaces,
# and all kinds of trailing whitespace as an error
# [default] trailing-space: looks for spaces at the end of a line
# [default] space-before-tab: looks for spaces before tabs at the beginning of
# a line
whitespace = space-before-tab,indent-with-non-tab,trailing-space
# Make `git rebase` safer on OS X 10.7 with autosave/versions
# More info: <http://www.git-tower.com/blog/make-git-rebase-safe-on-osx/>
# trustctime = false

# Use 12 characters for the abbreviated commit hash. See:
# http://blog.cuviper.com/2013/11/10/how-short-can-git-abbreviate/
# Via: http://git.io/QXnAqw
# abbrev = 12

[credential]
helper = osxkeychain

[alias]
h = help
cfg = config --global

c = commit
cm = commit -m
a = add
aa = add -A
aas = "!git aa; git s"

scan = "!~/bin/gscan"

co = checkout
wc = whatchanged

stat = status
s = status --short --branch
sn = status --untracked=no
# Do something more interesting/useful/unified with these
l = log --decorate --graph
l1 = log --oneline --decorate
l15 = log --oneline --decorate -5
ls = log --pretty=format:"%C(yellow)%h%Cred%d\\ %Creset%s%Cblue\\ [%cn]" --decorate
ll = log --pretty=format:"%C(yellow)%h%Cred%d\\ %Creset%s%Cblue\\ [%cn]" --decorate --numstat
lds = log --pretty=format:"%C(yellow)%h\\ %ad%Cred%d\\ %Creset%s%Cblue\\ [%cn]" --decorate --date=short
ld = log --pretty=format:"%C(yellow)%h\\ %ad%Cred%d\\ %Creset%s%Cblue\\ [%cn]" --decorate --date=relative
# Like "git show myfile", but uses the last commit that changed "myfile".
showlast = log -n 1 -p
# View abbreviated SHA, description, and history graph of the latest 20 commits
graph = log --pretty=oneline -n 20 --graph --abbrev-commit --decorate
# List contributors with number of commits
contributors = shortlog --summary --numbered
count = shortlog --summary --numbered
filelog = log -u
fl = log -u
rl = reflog --decorate

cl = clone

b = branch
br = branch
branches = branch -a
# Switch to a branch, creating it if necessary
go = checkout -B
# Remove branches that have already been merged with master
remove-merged-branches = "!git branch --merged | grep -v '\\*' | xargs -n 1 git branch -d"

sub = submodule
suba = submodule add
subu = submodule update --init

pom = push origin master
# Use rebase to prevent unnecessary commits
pum = pull --rebase origin master

# Fetch and merge better than pull?
fam = "!git fetch origin -v; git fetch upstream -v; git merge upstream/master"

remotes = remote -v

d = diff --word-diff
# Show the staged changes.
dc = diff --cached --word-diff
h = rev-parse HEAD

unstage = reset HEAD --

# Show verbose output about tags, branches or remotes
tags = tag -l

# Assume/Unassume changes
assume = update-index --assume-unchanged
unassume = update-index --no-assume-unchanged
assumed = "!git ls-files -v | grep ^h | cut -c 3-"
assumeall = "!git st -s | awk {'print $2'} | xargs git assume"
unassumeall = "!git assumed | xargs git update-index --no-assume-unchanged"

# List all aliases
aliases = "!git config -l | grep alias | cut -c 7-"
# Find branches containing commit
fb = "!f() { git branch -a --contains $1; }; f"
# Find tags containing commit
ft = "!f() { git describe --always --contains $1; }; f"
# Find commits by source code
fc = "!f() { git log --pretty=format:'%C(yellow)%h  %Cblue%ad  %Creset%s%Cgreen  [%cn] %Cred%d' --decorate --date=short -S$1; }; f"
# Find commits by commit message
fm = "!f() { git log --pretty=format:'%C(yellow)%h  %Cblue%ad  %Creset%s%Cgreen  [%cn] %Cred%d' --decorate --date=short --grep=$1; }; f"

[color]
# Use colors in Git commands that are capable of colored output when outputting to the terminal
ui = auto

[color "branch"]
current = yellow reverse
local = yellow
remote = green

[color "diff"]
meta = yellow bold
frag = magenta bold
old = red bold
new = green bold

[color "status"]
added = yellow
changed = green
untracked = cyan

[gc]
auto = 256

[push]
default = simple

[merge]
# Include summaries of merged commits in newly created merge commit messages
log = true

# URL shorthands
[url "git@github.com:"]
insteadOf = "gh:"
pushInsteadOf = "github:"
pushInsteadOf = "git://github.com/"
[url "git://github.com/"]
insteadOf = "github:"
[url "git@gist.github.com:"]
insteadOf = "gst:"
pushInsteadOf = "gist:"
pushInsteadOf = "git://gist.github.com/"
[url "git://gist.github.com/"]
insteadOf = "gist:"
